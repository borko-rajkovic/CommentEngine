@model IEnumerable<CommentEngine.Data.Domain.Vijest>

@{
    ViewBag.Title = "Vijesti";
    ViewBag.VijestNaslov = "";
}

<div class="col-md-12" style="padding-bottom:50px">
    <h2>Vijesti</h2>

    <hr />

    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th>
                    Naslov
                </th>
                <th>
                    Tekst
                </th>
                <th>
                    Datum
                </th>
                <th>
                    Korisnik
                </th>
                <th>
                    Broj komentara
                </th>
                <th>
                    Komentari
                </th>
            </tr>
        </thead>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.naslov)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.tekst)
                </td>
                <td>
                    @item.datum.ToString("dd.MM.yyyy")
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.username)
                </td>
                <td>
                    @item.komentari.Count(x => x != null && x.odobren == 1)
                </td>
                <td>
                    <a href="@Url.Action("KomentariZaVijest","Comment",new { id = item.id })">
                        <span class="btn btn-default">
                            Komentari
                            <span style="padding-left:5px" class="glyphicon glyphicon-pencil"></span>
                        </span>
                    </a>
                </td>
            </tr>
        }

    </table>
</div>
